<template>
  <div class="component-gallery">
    <h1><BaseIcon icon="⭐" size="large" />コンポーネントギャラリー</h1>

    <!-- Atoms -->
    <section class="gallery-section">
      <h2>Atoms</h2>

      <!-- ボタン -->
      <div class="component-demo">
        <h3>BaseButton</h3>
        <div class="demo-area">
          <BaseButton>Default</BaseButton>
          <BaseButton variant="secondary">Secondary</BaseButton>
          <BaseButton variant="ghost">Ghost</BaseButton>
          <BaseButton variant="danger">Danger</BaseButton>
          <BaseButton disabled>Disabled</BaseButton>
          <BaseButton :loading="true">Loading</BaseButton>
        </div>
      </div>

      <!-- インプット -->
      <div class="component-demo">
        <h3>BaseInput</h3>
        <div class="demo-area" style="max-width: 400px">
          <BaseInput v-model="inputDemo" label="通常のインプット" />
          <BaseInput v-model="inputDemo2" label="エラー付き" error="エラーメッセージ" />
          <BaseInput v-model="inputDemo3" label="ヒント付き" hint="入力のヒント" />
        </div>
      </div>

      <!-- タグ -->
      <div class="component-demo">
        <h3>BaseTag</h3>
        <div class="demo-area">
          <BaseTag>Default</BaseTag>
          <BaseTag variant="primary">Primary</BaseTag>
          <BaseTag variant="success">Success</BaseTag>
          <BaseTag variant="warning">Warning</BaseTag>
          <BaseTag variant="danger">Danger</BaseTag>
          <BaseTag variant="info">Info</BaseTag>
          <BaseTag removable @remove="handleRemove">Removable</BaseTag>
          <BaseTag clickable @click="handleTagClick">Clickable</BaseTag>
        </div>
      </div>

      <!-- アバター -->
      <div class="component-demo">
        <h3>BaseAvatar</h3>
        <div class="demo-area">
          <!-- 画像あり -->
          <BaseAvatar src="https://via.placeholder.com/150" alt="User avatar" />

          <!-- 名前からイニシャル生成 -->
          <BaseAvatar name="山田 太郎" />
          <BaseAvatar name="Tanaka" variant="square" />

          <!-- サイズバリエーション -->
          <BaseAvatar name="S" size="small" />
          <BaseAvatar name="M" size="medium" />
          <BaseAvatar name="L" size="large" />
          <BaseAvatar name="XL" size="xlarge" />

          <!-- ステータス付き -->
          <BaseAvatar name="ON" status="online" />
          <BaseAvatar name="OFF" status="offline" />
          <BaseAvatar name="BUSY" status="busy" />
          <BaseAvatar name="AWAY" status="away" />

          <!-- クリック可能 -->
          <BaseAvatar name="Click" clickable @click="handleAvatarClick" />
        </div>
      </div>

      <!-- アイコン -->
      <div class="component-demo">
        <h3>BaseIcon</h3>
        <div class="demo-area">
          <!-- 基本的な使い方（絵文字） -->
          <BaseIcon icon="🏠" />
          <BaseIcon icon="💼" />
          <BaseIcon icon="📧" />
          <BaseIcon icon="⚙️" />

          <!-- サイズバリエーション -->
          <BaseIcon icon="⭐" size="small" />
          <BaseIcon icon="⭐" size="medium" />
          <BaseIcon icon="⭐" size="large" />
          <BaseIcon icon="⭐" size="xlarge" />

          <!-- カラー -->
          <BaseIcon icon="❤️" color="#ff0000" />
          <BaseIcon icon="💚" color="#00ff00" />
          <BaseIcon icon="💙" color="#0000ff" />

          <!-- 回転 -->
          <BaseIcon icon="⟳" spin />

          <!-- クリック可能 -->
          <BaseIcon icon="👍" clickable size="large" @click="handleIconClick" />
        </div>
      </div>
      <!-- バッジ -->
      <div class="component-demo">
        <h3>BaseBadge</h3>
        <div class="demo-area">
          <!-- スタンドアロン -->
          <BaseBadge :count="5" />
          <BaseBadge :count="42" />
          <BaseBadge :count="100" />
          <BaseBadge content="New" />

          <!-- アイコンに付ける -->
          <BaseBadge :count="3">
            <BaseIcon icon="📧" size="large" />
          </BaseBadge>

          <BaseBadge :count="12" variant="primary">
            <BaseIcon icon="🔔" size="large" />
          </BaseBadge>

          <!-- ドットバッジ -->
          <BaseBadge dot>
            <BaseIcon icon="💬" size="large" />
          </BaseBadge>

          <!-- 位置の変更 -->
          <BaseBadge :count="5" position="top-left">
            <BaseAvatar name="TL" size="small" />
          </BaseBadge>

          <BaseBadge :count="5" position="bottom-right">
            <BaseAvatar name="BR" size="small" />
          </BaseBadge>

          <!-- バリアント -->
          <BaseBadge :count="1" variant="success">
            <BaseIcon icon="✅" size="large" />
          </BaseBadge>

          <BaseBadge :count="99" variant="warning">
            <BaseIcon icon="⚠️" size="large" />
          </BaseBadge>
        </div>
      </div>

      <!-- プログレスバー -->
      <div class="component-demo">
        <h3>BaseProgressBar</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch; gap: 20px">
          <!-- 基本的な使い方 -->
          <BaseProgressBar :value="30" />
          <BaseProgressBar :value="60" variant="success" />
          <BaseProgressBar :value="80" variant="warning" />

          <!-- ラベル付き -->
          <BaseProgressBar :value="45" label="スキルレベル" show-value />

          <!-- カスタム高さ -->
          <BaseProgressBar :value="70" :height="16" variant="info" show-value />

          <!-- ストライプ -->
          <BaseProgressBar :value="50" variant="primary" striped />

          <!-- アニメーション -->
          <BaseProgressBar :value="75" variant="danger" striped animated />

          <!-- フラクション表示 -->
          <BaseProgressBar
            :value="7"
            :max="10"
            label="タスク進捗"
            show-value
            value-format="fraction"
          />

          <!-- カスタムフォーマット -->
          <BaseProgressBar
            :value="2500"
            :max="5000"
            label="経験値"
            show-value
            :custom-format="(v, min, max) => `${v.toLocaleString()} / ${max.toLocaleString()} XP`"
          />
        </div>
      </div>

      <!-- 見出し -->
      <div class="component-demo">
        <h3>BaseHeading</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch">
          <!-- 各見出しレベル -->
          <BaseHeading tag="h1">見出しレベル1</BaseHeading>
          <BaseHeading tag="h2">見出しレベル2</BaseHeading>
          <BaseHeading tag="h3">見出しレベル3</BaseHeading>
          <BaseHeading tag="h4">見出しレベル4</BaseHeading>
          <BaseHeading tag="h5">見出しレベル5</BaseHeading>
          <BaseHeading tag="h6">見出しレベル6</BaseHeading>

          <!-- サブタイトル付き -->
          <BaseHeading tag="h2" subtitle="This is a subtitle"> メインタイトル </BaseHeading>

          <!-- 中央揃え -->
          <BaseHeading tag="h3" align="center"> 中央揃えの見出し </BaseHeading>

          <!-- 大文字変換 -->
          <BaseHeading tag="h4" uppercase> Uppercase Heading </BaseHeading>

          <!-- マージンなし -->
          <BaseHeading tag="h3" no-margin> マージンなしの見出し </BaseHeading>
        </div>
      </div>

      <!-- 区切り線 -->
      <div class="component-demo">
        <h3>BaseDivider</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch; gap: 0">
          <!-- 基本的な区切り線 -->
          <BaseDivider />

          <!-- テキスト付き -->
          <BaseDivider text="または" />

          <!-- 破線 -->
          <BaseDivider variant="dashed" />

          <!-- 点線 -->
          <BaseDivider variant="dotted" text="Section" />

          <!-- カスタムカラー -->
          <BaseDivider color="#007bff" :thickness="2" />

          <!-- テキスト位置 -->
          <BaseDivider text="左寄せ" text-position="left" />
          <BaseDivider text="中央" text-position="center" />
          <BaseDivider text="右寄せ" text-position="right" />

          <!-- カスタムスペーシング -->
          <BaseDivider :spacing="32" text="大きなスペース" />

          <!-- スロット使用 -->
          <BaseDivider>
            <BaseIcon icon="⭐" />
          </BaseDivider>

          <!-- 垂直方向（デモ用コンテナ内） -->
          <div style="display: flex; height: 100px; align-items: center; gap: 16px">
            <span>左側</span>
            <BaseDivider orientation="vertical" />
            <span>右側</span>
          </div>
        </div>
      </div>

      <div class="component-demo">
        <h3>BaseModal</h3>
        <div class="demo-area">
          <!-- 基本的なモーダル -->
          <BaseButton @click="showModal1 = true"> 基本モーダルを開く </BaseButton>

          <!-- サイズ違い -->
          <BaseButton variant="secondary" @click="showModal2 = true"> 小さいモーダル </BaseButton>

          <BaseButton variant="ghost" @click="showModal3 = true"> 大きいモーダル </BaseButton>

          <!-- フッター付き -->
          <BaseButton variant="danger" @click="showModal4 = true">
            フッター付きモーダル
          </BaseButton>
        </div>

        <!-- モーダル本体 -->
        <BaseModal v-model="showModal1" title="基本的なモーダル">
          <p>これは基本的なモーダルの内容です。</p>
          <p>ESCキーまたはオーバーレイクリックで閉じることができます。</p>
        </BaseModal>

        <BaseModal v-model="showModal2" title="小さいモーダル" size="small">
          <p>これは小さいサイズのモーダルです。</p>
        </BaseModal>

        <BaseModal v-model="showModal3" title="大きいモーダル" size="large">
          <p>これは大きいサイズのモーダルです。</p>
          <p>より多くのコンテンツを表示できます。</p>
          <BaseInput label="名前" v-model="modalInputDemo" />
        </BaseModal>

        <BaseModal v-model="showModal4" title="確認" :close-on-overlay="false">
          <p>本当に削除しますか？この操作は取り消せません。</p>
          <template #footer>
            <BaseButton variant="ghost" @click="showModal4 = false"> キャンセル </BaseButton>
            <BaseButton variant="danger" @click="showModal4 = false"> 削除する </BaseButton>
          </template>
        </BaseModal>
      </div>
    </section>

    <!-- Molecules セクションを追加 -->
    <section class="gallery-section">
      <h2>Molecules</h2>

      <!-- プロフィールヘッダー -->
      <div class="component-demo">
        <h3>ProfileHeader</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch">
          <!-- 基本的な使い方 -->
          <ProfileHeader
            name="山田 太郎"
            title="フルスタックエンジニア"
            location="東京, 日本"
            :age="28"
            avatar-url="https://via.placeholder.com/150"
          />

          <!-- タグ付き -->
          <ProfileHeader
            name="鈴木 花子"
            title="UI/UXデザイナー"
            location="大阪, 日本"
            :tags="['Figma', 'React', 'TypeScript']"
            status="online"
            verified
          />

          <!-- アクションボタン付き -->
          <ProfileHeader
            name="佐藤 次郎"
            title="バックエンドエンジニア"
            location="福岡, 日本"
            :age="32"
            :tags="['Node.js', 'Python', 'AWS']"
            status="busy"
          >
            <template #actions>
              <BaseButton size="small" variant="primary">フォロー</BaseButton>
              <BaseButton size="small" variant="ghost">メッセージ</BaseButton>
            </template>
          </ProfileHeader>

          <!-- エクストラコンテンツ付き -->
          <ProfileHeader
            name="田中 美咲"
            title="プロダクトマネージャー"
            location="名古屋, 日本"
            verified
          >
            <template #extra>
              <div style="text-align: right">
                <p style="margin: 0; color: #666; font-size: 14px">マッチ率</p>
                <p style="margin: 0; font-size: 32px; font-weight: bold; color: #28a745">85%</p>
              </div>
            </template>
          </ProfileHeader>
        </div>
      </div>

      <!-- スキルアイテム -->
      <div class="component-demo">
        <h3>SkillItem</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch; gap: 16px">
          <!-- 基本的な使い方 -->
          <SkillItem name="Vue.js" icon="💚" level="advanced" experience="3年" />

          <!-- 説明付き -->
          <SkillItem
            name="TypeScript"
            icon="🔷"
            level="intermediate"
            experience="2年"
            description="型安全なJavaScriptの開発経験。Vue3のComposition APIと組み合わせて使用。"
          />

          <!-- サブスキル付き -->
          <SkillItem
            name="React"
            icon="⚛️"
            level="expert"
            experience="5年"
            description="大規模SPAの開発経験あり"
            :sub-skills="['Next.js', 'Redux', 'React Hook Form', 'Styled Components']"
          />

          <!-- カスタムプログレス -->
          <SkillItem
            name="Node.js"
            icon="🟢"
            experience="4年"
            :custom-progress="85"
            :sub-skills="['Express', 'NestJS', 'Prisma']"
          />
        </div>
      </div>

      <!-- 連絡先情報 -->
      <div class="component-demo">
        <h3>ContactInfo</h3>
        <div class="demo-area" style="flex-direction: column; align-items: stretch">
          <!-- 基本的な使い方 -->
          <ContactInfo
            title="連絡先"
            email="example@email.com"
            phone="090-1234-5678"
            location="東京都渋谷区"
          />

          <!-- ウェブサイト・SNS付き -->
          <ContactInfo
            email="developer@example.com"
            website="https://example.com"
            location="大阪府大阪市"
            :social-links="[
              { platform: 'GitHub', url: 'https://github.com/example', icon: '🐙' },
              { platform: 'Twitter', url: 'https://twitter.com/example', icon: '🐦' },
              { platform: 'LinkedIn', url: 'https://linkedin.com/in/example', icon: '💼' },
            ]"
          />

          <!-- エクストラコンテンツ付き -->
          <ContactInfo title="お問い合わせ" email="contact@example.com">
            <template #extra>
              <BaseButton variant="primary" full-width> お問い合わせフォームへ </BaseButton>
            </template>
          </ContactInfo>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import BaseButton from '@/components/atoms/BaseButton.vue'
import BaseInput from '@/components/atoms/BaseInput.vue'
import BaseTag from '../atoms/BaseTag.vue'
import BaseAvatar from '@/components/atoms/BaseAvatar.vue'
import BaseIcon from '@/components/atoms/BaseIcon.vue'
import BaseBadge from '@/components/atoms/BaseBadge.vue'
import BaseProgressBar from '@/components/atoms/BaseProgressBar.vue'
import BaseHeading from '@/components/atoms/BaseHeading.vue'
import BaseDivider from '@/components/atoms/BaseDivider.vue'
import ProfileHeader from '@/components/molecules/ProfileHeader.vue'
import BaseModal from '@/components/atoms/BaseModal.vue'
import SkillItem from '@/components/molecules/SkillItem.vue'
import ContactInfo from '@/components/molecules/ContactInfo.vue'

const inputDemo = ref('')
const inputDemo2 = ref('')
const inputDemo3 = ref('')

// モーダル用の状態
const showModal1 = ref(false)
const showModal2 = ref(false)
const showModal3 = ref(false)
const showModal4 = ref(false)
const modalInputDemo = ref('')

const handleRemove = () => {
  console.log('Tag removed')
}

const handleTagClick = () => {
  console.log('Tag clicked')
}

const handleAvatarClick = () => {
  console.log('Avatar clicked')
}

const handleIconClick = () => {
  console.log('Icon clicked')
}
</script>

<style lang="scss" scoped>
.component-gallery {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.gallery-section {
  margin-bottom: 40px;

  h2 {
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid #eee;
  }
}

.component-demo {
  margin-bottom: 30px;

  h3 {
    margin-bottom: 15px;
    color: #666;
  }
}

.demo-area {
  display: flex;
  flex-wrap: wrap;
  gap: 40px;
  padding: 20px;
  background-color: #f8f9fa;
  border-radius: 8px;
}
</style>
